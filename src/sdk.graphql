query listDeploymentLogs(
  $deploymentId: String!
  $startDate: DateTime!
  $endDate: DateTime!
  $filter: String!
  $limit: Int
) {
  deploymentLogs(
    deploymentId: $deploymentId
    endDate: $endDate
    filter: $filter
    limit: $limit
    startDate: $startDate
  ) {
    timestamp
  }
}

query listHTTPLogs(
  $deploymentId: String!
  $startDate: String!
  $endDate: String!
) {
  httpLogs(
    deploymentId: $deploymentId
    startDate: $startDate
    endDate: $endDate
    filter: ""
    limit: 10
  ) {
    totalDuration
    timestamp
  }
}

query listMetrics(
  $environmentId: String!
  $serviceId: String
  $volumeId: String
  $measurements: [MetricMeasurement!]!
  $startDate: DateTime!
  $endDate: DateTime!
  $groupBy: [MetricTag!]
) {
  metrics(
    environmentId: $environmentId
    serviceId: $serviceId
    volumeId: $volumeId
    measurements: $measurements
    startDate: $startDate
    endDate: $endDate
    groupBy: $groupBy
    includeDeleted: false
    sampleRateSeconds: 10
  ) {
    measurement
    values {
      value
      ts
    }
  }
}

query listDeployments(
  $projectId: String
  $environmentId: String
  $serviceId: String
  $status: DeploymentStatusInput
) {
  deployments(
    input: {
      projectId: $projectId
      environmentId: $environmentId
      serviceId: $serviceId
      status: $status
    }
    last: 1
  ) {
    edges {
      node {
        id
        environment {
          id
          name
        }
        service {
          id
          name
        }
        projectId
        staticUrl
      }
    }
  }
}

query getDeploymentById($deploymentId: String!) {
  deployment(id: $deploymentId) {
    id
    environment {
      id
      name
    }
    service {
      id
      name
    }
    projectId
    staticUrl
  }
}

query getServiceById($id: String!) {
  service(id: $id) {
    name
    project {
      id
      name
    }
  }
}

query getEnvironmentById($id: String!) {
  environment(id: $id) {
    name
    projectId
  }
}

query getProjectById($id: String!) {
  project(id: $id) {
    name
  }
}

query listTcpProxies(
  $environmentId: String!
  $serviceId: String!
) {
  tcpProxies(
    environmentId: $environmentId
    serviceId: $serviceId
  ) {
    id
    domain
    proxyPort
    deletedAt
  }
}
